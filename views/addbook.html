<!DOCTYPE html>
<html lang="en">
<head>
	<title>Bootstrap Example</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/assest/js/validation/jquery.validate.min.js"></script>
	<script type="text/javascript" src="/assest/js/validation/additional-methods.min.js"></script>
</head>

  <body>


<div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<h3>
				Add a comic Book
			</h3>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<form class="form-horizontal" role="form" enctype="multipart/form-data" id='addform' action="/book/insert" method=post >
				<div class="form-group">
					 
					<label for="inputEmail3" class="col-sm-2 control-label">
						Name
					</label>
					<div class="col-sm-10">
						<input type="name" class="form-control required" name="name" id="name" class="required" />
					</div>
				</div>
				<div class="form-group">
					 
					<label for="inputPassword3" class="col-sm-2 control-label">
						description
					</label>
					<div class="col-sm-10">
						<textarea type="text" name="description" class="form-control required" multiple  /></textarea>
					</div>
				</div>
				<div class="form-group">
					 
					<label for="inputPassword3" class="col-sm-2 control-label">
						Year
					</label>
					<div class="col-sm-10">
						<input type="number" class="form-control required" name="year" multiple  cl />
					</div>
				</div>
				<div class="form-group">
					 
					<label for="inputPassword3" class="col-sm-2 control-label">
						cover
					</label>
					<div class="col-sm-10" >
						<input type="file" class="form-control required" name="cover" id= "cover"  />
					</div>
					<div class="col-sm-2"></div>
					<div class="col-sm-10" id="imgdiv"></div>
				</div>
				<div class="form-group">
					 
					<label class="col-sm-2 control-label">
						Pages
					</label>
					<div class="col-sm-10">
						<input type="file" name="pages[]" id= "pages"  class="form-control required" multiple />
					</div>
					<div class="col-sm-2"></div>
					<div class="col-sm-10" id="imgdivpages"></div>
				</div>

				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-10">
						 
						<button type="submit" class="btn btn-success btn-block">
							Add a book
						</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>

  </body>
</html>

<script>

function readURL(input) {
	$("#imgdiv").empty();
	for(var a= 0; a<input.files.length;a++){
		if (input.files && input.files[a]) {
			var reader = new FileReader();

			reader.onload = function (e) {
				$("#imgdiv").append("<img src ='"+e.target.result+"' style ='max-width:25%;'>");
				//$('#blah').attr('src', e.target.result);
			}

			reader.readAsDataURL(input.files[a]);
		}
	}
}

$("#cover").change(function(){
    readURL(this);
});


function readURL(input) {
	$("#imgdivpages").empty();
	for(var a= 0; a<input.files.length;a++){
		if (input.files && input.files[a]) {
			var reader = new FileReader();

			reader.onload = function (e) {
				$("#imgdivpages").append("<img src ='"+e.target.result+"' style ='max-width:25%;'>");
				//$('#blah').attr('src', e.target.result);
			}

			reader.readAsDataURL(input.files[a]);
		}
	}
}

$("#pages").change(function(){
    readURL(this);
});

$("#addform").validate({
	rules:{
		year: {
		required: true,
		 rangelength: [4, 4],
		digits: true
		},
	}
});
</script>
<style>
.error{
	color: #F0422E;
}
</style>
